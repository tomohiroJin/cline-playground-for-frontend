# Phase 1 フィードバック — 戦闘体験の向上

## 概要

Phase 1（戦闘体験の向上）実装完了後、実際にプレイしたユーザーから受領した7項目のフィードバック。
各項目に優先度・理由・対応方針を付記する。

---

## フィードバック項目

### FB-1: 速度切り替えを通常時も利用可能に

- **優先度**: 🔴 すぐに対応
- **理由**: 小規模変更（`hooks.ts` の `useBattle` 条件分岐のみ）で効果が大きい。現在は `state.phase === 'battle'` のみで速度ボタンが機能するが、進化選択後の戦闘開始時にもデフォルト速度を記憶させたい
- **対応範囲**:
  - `hooks.ts` の `CHANGE_SPEED` を phase 非依存にする
  - 速度ボタンを BattleScreen 以外（進化画面等）でも表示するか、設定として保持するか検討

---

### FB-2: スキルボタンの拡大・利用可能アピール

- **優先度**: 🔴 すぐに対応
- **理由**: Phase 1 で実装済みのスキルが目立たず気付かれない。`SkillBtn` が `10px` / `min-width 70px` と小さい。画面下部の空きスペースに大きく配置すべき
- **対応範囲**:
  - `styles.ts` の `SkillBtn` 拡大
  - `BattleScreen.tsx` でスキルバーを画面下部に移動
  - 利用可能時のパルスアニメーション追加

---

### FB-3: 進化選択画面でスキル情報表示

- **優先度**: 🟡 後で対応可
- **理由**: Phase 2 以降でシナジー表示を追加する際に合わせて実装するのが効率的。現状のスキルは4種のみで情報量が限定的
- **対応範囲**:
  - `EvolutionScreen.tsx` にスキル一覧パネル（アイコン+名前+効果+CD状態）を追加

---

### FB-4: 血の契約（HP半減）の動作確認・テスト追加

- **優先度**: 🔴 すぐに対応（バグの可能性）
- **理由**: ユーザーが実際のプレイで効果を実感できていない。`applyStatFx` の `half` 処理自体は実装済み（`mhp = floor(mhp/2), hp = min(hp, mhp)`）でテストも1件あるが、`applyEvo` → `applyStatFx` の結合テストが不足。`aM`（ATK倍率）との複合効果も要検証
- **対応範囲**:
  - `applyEvo` で血の契約を適用した場合の結合テスト追加
  - `half` + `aM` の複合効果テスト追加
  - 実際に `EVOS` 定数の血の契約定義が正しく `applyStatFx` に渡されることを確認
  - EvolutionScreen のプレビュー表示で HP 半減が反映されているか確認（`simEvo` 関数）

---

### FB-5: 進化選択画面で環境・状態をもっと表示

- **優先度**: 🟡 後で対応可
- **理由**: Phase 2 のシナジー表示や Phase 3 のイベント情報と合わせて画面を再設計するのが効率的
- **対応範囲**:
  - `EvolutionScreen.tsx` にバイオーム環境ダメージ、バフ状態、火傷状態、スキルCD等の情報パネルを追加

---

### FB-6: 遊び方にスキル・スピード切り替え説明を追加

- **優先度**: 🔴 すぐに対応
- **理由**: 小規模なテキスト追加のみ。新機能の発見性に直結する。現在 `HowToPlayScreen` にスキルとスピードの説明がない
- **対応範囲**:
  - `HowToPlayScreen.tsx` に「アクティブスキル」セクションと「戦闘速度」セクションを追加

---

### FB-7: レスポンシブ対応・フォントサイズ改善

- **優先度**: 🟡 後で対応可（Phase 5 と統合）
- **理由**: 大規模変更（全コンポーネントの `@media` クエリ追加、フォントサイズ見直し）。現在 `GameShell` のみレスポンシブ対応。Phase 5（ビジュアル強化）と合わせて実施が効率的。ただしフォントサイズの最低限の改善は先行して可能
- **対応範囲**:
  - `styles.ts` 全体のフォントサイズ基準見直し（最小8px→10px以上）
  - 主要コンポーネントに `@media` クエリ追加
  - Screen コンポーネントのパディング調整

---

## 優先度まとめ

| 優先度 | 項目 | 作業規模 |
|--------|------|---------|
| 🔴 すぐに | FB-4: 血の契約テスト・検証 | 中（テスト追加+バグ修正の可能性） |
| 🔴 すぐに | FB-1: 速度切り替え常時利用 | 小 |
| 🔴 すぐに | FB-2: スキルボタン拡大 | 中 |
| 🔴 すぐに | FB-6: 遊び方テキスト追加 | 小 |
| 🟡 後で | FB-3: 進化画面スキル表示 | 中（Phase 2 統合） |
| 🟡 後で | FB-5: 進化画面状態表示 | 中（Phase 2 統合） |
| 🟡 後で | FB-7: レスポンシブ・フォント | 大（Phase 5 統合） |

---

## 対応方針

### 即時対応（🔴）

1. **FB-4** を最優先で着手（バグの可能性があるため）
2. **FB-1** と **FB-6** は小規模変更のため速やかに対応
3. **FB-2** はスタイル調整+アニメーション追加で中規模

### 後日対応（🟡）

- **FB-3** / **FB-5**: Phase 2（シナジーシステム）実装時に進化選択画面を再設計する際にまとめて対応
- **FB-7**: Phase 5（ビジュアル強化）のレスポンシブ対応タスクと統合
