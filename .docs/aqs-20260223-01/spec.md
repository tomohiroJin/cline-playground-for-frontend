# Agile Quiz Sugoroku ブラッシュアップ仕様書

## 1. ステークホルダーキャラクター追加（タカ）

### 概要
4人目のキャラクター「タカ」をビジネスオーナー/ステークホルダーとして追加。

### キャラクター詳細
- **ID**: `taka`
- **名前**: タカ
- **動物**: オオタカ
- **役割**: ビジネスオーナー / ステークホルダー
- **絵文字**: 🦅
- **カラー**: COLORS.yellow（金色系）
- **性格**: 高い視座からプロダクト全体を見渡す。ROIや市場価値に敏感。厳しいが的確なフィードバックを返す。
- **スキル**: 事業戦略, ROI分析, プロダクトビジョン, 市場分析, ステークホルダーマネジメント
- **キャッチフレーズ**: 「このプロダクト、市場で翔べるか？鋭く見極めるぞ！」
- **豆知識**: 朝5時起きで市場レポートを読むのが日課。会議では常に最前列。

### 画像
- `aqs_char_taka.webp` をユーザーが別途用意
- 画像がない場合は emoji（🦅）でフォールバック表示

---

## 2. 総評のステークホルダー演出

### 概要
クリア後の総評をタカ（ビジネスオーナー）が語る形式に変更。

### テキストパターン
- **高正答率(70%以上)**: 「素晴らしい。${sc}スプリントを安定して完走し、プロダクトの価値を最大化した。...」
- **中正答率(50-69%)**: 「基礎力はある。...期待しているぞ。」
- **低正答率(50%未満)**: 「${sc}スプリントを走り抜いたことは評価する。...」

### UI仕様
- タカの丸型アバター画像を左に配置（52x52px）
- 吹き出し風デザインで総評テキストを表示
- キャラ名「タカ」とサブテキスト「ビジネスオーナー」を表示
- 画像がない場合は🦅絵文字のフォールバック

---

## 3. スプリント数選択（フィボナッチ数列）

### 概要
タイトル画面でスプリント数を1, 2, 3, 5, 8から選択可能にする。

### UI仕様
- 機能紹介リストの下に「SPRINT COUNT」セクションを配置
- 5つのボタン: 1, 2, 3, 5, 8
- デフォルト選択: 3（現行と同じ）
- 選択中のボタンはアクセントカラー(COLORS.accent)でハイライト
- Sprint Startボタンの上に配置

### ゲームロジック
- `onStart` コールバックにスプリント数を引数追加
- `AgileQuizSugorokuPage` で `sprintCount` 状態を管理
- `handleAfterRetro` の完了判定を動的スプリント数に変更
- `getSummaryText` に動的スプリント数を渡す
- 機能紹介リストのスプリント数表示も動的に更新

### 定数
```typescript
export const SPRINT_OPTIONS = [1, 2, 3, 5, 8] as const;
```

---

## 4. クイズ問題追加

### 概要
合計約60問を各カテゴリに均等に追加（306問 → 366問）。

### 追加数
| ファイル | 追加数 | 新合計 |
|----------|--------|--------|
| planning.json | +8 | 50 |
| impl1.json | +8 | 50 |
| impl2.json | +8 | 45 |
| test1.json | +8 | 45 |
| test2.json | +8 | 45 |
| refinement.json | +8 | 45 |
| review.json | +6 | 43 |
| emergency.json | +6 | 43 |
| **合計** | **+60** | **366** |

### 使用タグ
既存の16ジャンルタグをバランスよく使用。

---

## 5. 勉強会モード問題数変更

### 概要
問題数オプションを「全問」から「50問」に変更。

### 変更内容
```
Before: 10問 / 20問 / 全問
After:  10問 / 20問 / 50問
```

### 動作仕様
- 選択したジャンルの該当問題数が50問未満の場合、50問ボタンは全問と同じ動作
- `buildStudyPool` で `limit > pool.length` の場合は全問返却される既存ロジックで対応済み
