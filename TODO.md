# 🎯 TODO リスト

- [x] すべてのピースを正しい位置に戻すと、パズルが完成する
  - [ ] 空きピースを除いたピースが全て正しい位置に移動すると最後の空きピースに正しいピースがはめ込まれる
  - HomePage.tsx
  - [x] パズルが完成すると'パズルが完成しました！'と表示されること
    - usePuzzle.ts#usePuzzle
    - [x] パズルが完成していない場合はcompletedがfalseになること
    - [x] パズルが完成するとcompletedがtrueになること
      - puzzle-utils.ts#isPuzzleCompleted
      - [x] 全てのピースが正しい位置にある場合はtrueを返すこと
      - [x] 一部のピースが正しくない位置にある場合はfalseを返すこと
- [x] ユーザーが好きな画像をアップロードできる
  - HomePage.tsx
  - [x] 画面を表示するとアップロードするための画像をアップロードするボタンが表示されている
  - [x] ボタンをクリックすると画像を選択して好きな画像をアップロードすることができる
  - ImageUploader.tsx#ImageUploader.tsx
    - [x] 画像が未選択の場合、アップロードのテキストが表示される
    - [x] 正しい画像をアップロードすると onImageUpload が呼ばれ、プレビューが表示される
    - [x] ファイルサイズが大きすぎる場合、エラーメッセージが表示され、onImageUpload は呼ばれない
  - [x] パズルを開始ボタンをクリックするとゲームが開始されること
    - [x] 画面を表示すると'パズルを開始'ボタンが表示されること
    - [x] 画像が選択されていない場合は'パズルを開始'ボタンが利用できないこと
    - [x] 画像が選択されている場合は'パズルを開始'ボタンが利用できること
    - [x] パズルを開始ボタンをクリックするとゲームが初期化されてパズルボードが表示されること
      - src/components/organisms/PuzzleBoard.tsx
      - [ ] パズルボードコンポーネント
        - [x] HintToggleButton
          - [x] ヒントモードがfalseの時は「ヒントを表示」ボタンが表示されていること
          - [x] ヒントモードがtrueの時は「ヒントを隠す」が表示されていること
          - [x] ヒントボタンがクリックされた時にonToggleHintが呼ばれること
        - [x] HintToggleButton
          - [x] ヒントモードがfalseの時は「ヒントを表示」ボタンが表示されていること
          - [x] ヒントモードがtrueの時は「ヒントを隠す」が表示されていること
          - [x] ヒントボタンがクリックされた時にonToggleHintが呼ばれること
        - [x] 経過時間が表示される
          - [x] formatElapsedTime
            - [x] 経過時間が 0 の場合は 00:00 が表示されること
            - [x] 経過時間が 59 の場合は 00:59 が表示されること
            - [x] 経過時間が 60 の場合は 01:00 が表示されること
            - [x] 経過時間が 65 の場合は 01:05 が表示されること
            - [x] 経過時間が 3599 の場合は 59:59 が表示されること
            - [x] 経過時間が 3600 の場合は 60:00 が表示されること
        - [x] 完成時にオーバーレイが表示される
        - [x] パズルを表示するボード
          - [x] ボードのサイズに合わせて分割された枠が表示される
          - [x] パズルピースの表示
            - [x] ピースの数だけパズルピースのコンポーネントが作成されること
            - [x] パズルピースのコンポーネントへの受け渡し
            （静的型付けなのでここまでのテストは要らない気がする）
              - [x] コンポーネントに必要な共通のデフォルトプロパティが渡されていること
              - [x] コンポーネント 0 に正しい piece プロパティが渡されていること
              - [x] コンポーネント 1 に正しい piece プロパティが渡されていること
              - [x] コンポーネント 2 に正しい piece プロパティが渡されていること
              - [x] コンポーネント 3 に正しい piece プロパティが渡されていること
            - src/components/molecules/PuzzlePiece.tsx
            - [x] パズルピース
              - [x] 指定された表示位置に描画されること
              - [x] クリック時に onClick が呼ばれること
              - [x] ピースの位置が変更されたときに状態が更新されること
              - [x] スタイルを修正して画面に表示分割されるパネルサイズを調整
              （スタイル周りのテストについてはどう考えるべきだろうか、いったんテストが難しいのでテストはスキップして目検とした）
- [ ] パズルピースの位置をシャッフルすること
  - [ ] 分割されたパズルピースがランダムに配置される（一か所を空けて）  
  - [ ] パズルの全てのピースが必ず元の画像に戻ることが保証される  


          - [ ] 表示されている画像が分割されてクリアで可能なパズルになって表示される
          - [ ] ユーザーがアップロードした画像が指定の分割数（最大 32 分割）に変換される  
          - [ ] ユーザーがパズルの完成時間を確認できるようにする  
          - [ ] ヒントを表示するオプションを提供できる




- [ ] ピースが空白の隣接位置にのみ移動できる（スライドパズル方式）  
- [ ] ピースを正しく配置すると、その位置に固定される （？）
- [ ] ユーザーが分割数を自由に選べる  
- [ ] 32 分割のパズルでも正しく動作することを確認できる  
- [ ] パズルの難易度に応じたガイド（例：簡単モードではヒント機能）を提供できる
- [ ] シンプルな操作説明を提供できる（簡単なガイドやツールチップなど）
- [ ] 自動で正しい手順を実施してクリアすることができる機能が欲しい
